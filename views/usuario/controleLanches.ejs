<!-- views/usuario/controleLanches.ejs -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Lanches</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <script src="/assets/js/mqtt/mqttController.js" defer></script>
</head>
<body>
    <%- include('../layouts/header') %>
    <header>
        <h1>Controle de Lanches</h1>
    </header>
    <main>
        <form id="usuarioForm">
            <input type="text" id="id" placeholder="ID" required>
            <input type="text" id="nome" placeholder="Nome" required>
            <button type="submit">Adicionar</button>
            <button type="button" id="excluirBtn">Excluir</button>
        </form>
        <ul id="usuariosList"></ul>
    </main>
    <script>
        const form = document.getElementById('usuarioForm');
        const usuariosList = document.getElementById('usuariosList');

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const id = document.getElementById('id').value;
            const nome = document.getElementById('nome').value;
            adicionarID(id, nome); // Chama a função do mqttController
            atualizarLista(); // Atualiza a lista na página
        });

        const atualizarLista = () => {
            // Aqui você pode implementar a lógica para atualizar a lista de IDs na interface
        };

        document.getElementById('excluirBtn').addEventListener('click', () => {
            const id = document.getElementById('id').value;
            excluirID(id); // Chama a função do mqttController
            atualizarLista(); // Atualiza a lista na página
        });
    </script>
    <%- include('../layouts/footer') %>
</body>
</html>